<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Access control model · </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## ACL"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Access control model · "/><meta property="og:type" content="website"/><meta property="og:url" content="https://personium.github.io/"/><meta property="og:description" content="## ACL"/><meta property="og:image" content="https://personium.github.io/images/header-icon.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://personium.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://personium.github.io/blog/atom.xml" title=" Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://personium.github.io/blog/feed.xml" title=" Blog RSS Feed"/><link rel="stylesheet" href="/docusaurus_css/custom.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/logo-quantify-light.png" alt=""/><h2 class="headerTitleWithLogo"></h2></a><a href="/en/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/README" target="_self">Documentation</a></li><li class=""><a href="/docs/en/apiref/000_Rest_API_Reference" target="_self">API Reference</a></li><li class=""><a href="/blog/" target="_self">News</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/ja/next/apiref/006_Access_Control">日本語</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Access control model</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="acl"></a><a href="#acl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ACL</h2>
<p>The access control to the access subject by the ACL is done by applying <a href="http://www.ietf.org/rfc/rfc3744">WebDAV ACL</a> to role based access control.<br>
By setting the ACL with the ACL method for Cell, Box, Collection, etc., access right to that resource can be set.<br>
Basically, it conforms to the specification of WebDAV ACL, but this page will explain Personium original specifications.</p>
<p>ACL settings are defined in XML.</p>
<h3><a class="anchor" aria-hidden="true" id="acl-component-in-personium"></a><a href="#acl-component-in-personium" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ACL component in Personium</h3>
<p>The Personium ACL consists of the following elements.</p>
<table>
<thead>
<tr><th style="text-align:left">Element name</th><th style="text-align:left">Contents</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">ace</td><td style="text-align:left">Represents an access entity that sets ACLs and a set of their grants</td></tr>
<tr><td style="text-align:left">pricipal</td><td style="text-align:left">Define the access subject of the ACL to be set up</td></tr>
<tr><td style="text-align:left">grant</td><td style="text-align:left">Define one or more privileges to be given to principal</td></tr>
<tr><td style="text-align:left">privilege</td><td style="text-align:left">Define permission settings</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="limitations"></a><a href="#limitations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limitations</h3>
<p>In Personium V1 series, there are the following restrictions.</p>
<ul>
<li>The ACL is updated by overwriting the existing setting</li>
<li>Set up deprivation of authority by deny element</li>
<li>Acquire a list of authorizations that can be granted</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="object"></a><a href="#object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Object</h3>
<p>The target of ACL setting of Personium is a resource, and it is set by the ACL method to the URL of each resource.<br>
In the case of a path of a cell, it becomes a cell level ACL, and in case of a path under a box, it becomes a box level ACL.<br>
These two have different Privileges (authorities) that can be set, and they will not affect each other.</p>
<table>
<thead>
<tr><th style="text-align:left"></th><th style="text-align:left">Object</th><th style="text-align:left">Target resource</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Cell Level ACL</td><td style="text-align:left">Setting to the cell, <br>Control CRUD of cell control object</td><td style="text-align:left">Cell</td></tr>
<tr><td style="text-align:left">Box Level ACL</td><td style="text-align:left">Control CRUD of Box control object</td><td style="text-align:left">Box, WebDAV collection, ODatacollection, Servicecollection <br>Directory and file under the WebDAV collection</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="ace"></a><a href="#ace" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ace</h2>
<p>The target access agent is defined as a Principal element, and the authorization is defined as a grant element. You can set multiple ace elements.</p>
<h3><a class="anchor" aria-hidden="true" id="principal"></a><a href="#principal" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Principal</h3>
<p>Although Principal has &quot;human or computational actor&quot; in the WebDAV ACL, it is defined as a role in Personium.<br>
The role of Personium is a concept close to &quot;Group&quot; in WebDAV ACL.</p>
<h4><a class="anchor" aria-hidden="true" id="all"></a><a href="#all" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>all</h4>
<p>As defined in the WebDAV ACL, setting the all element in pricipal gives the authorization setting, It can also be defined for all roles and unauthorized access agents (without Authorization header).<br>
Since it is authority for all access agents to the resource, caution is required when using it.</p>
<pre><code class="hljs">principal:<span class="hljs-keyword">all</span>
privilege:<span class="hljs-keyword">all</span>
</code></pre>
<p>With the above setting, all operations are released to all accesses accessed.<br>
<strong>However, if schema authentication level setting is done, that checking will take effect.</strong></p>
<h5><a class="anchor" aria-hidden="true" id="setting-example"></a><a href="#setting-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting example</h5>
<p>Give read access to all access subjects.</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span> <span class="hljs-attr">xml:base</span>=<span class="hljs-string">"http://fqdn/testcell1/__role/box1/"</span>
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">p:requireSchemaAuthz</span>=<span class="hljs-string">"none"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">D:all</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="role"></a><a href="#role" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Role</h4>
<p>To define a role for the target access agent, enclose it in an href element and set the role resource URL.<br>
For specifications on role resources see Role Issue.</p>
<p>Note that the role resource URL that can be set can not specify a role resource URL different from the cell URL of the ACL setting target.</p>
<h5><a class="anchor" aria-hidden="true" id="setting-example-1"></a><a href="#setting-example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting example</h5>
<p>Describe all role resource URLs to be set in Principal<br>
(Example of giving read and write privileges to doctor attached to box 1 and giving read only to guest attached to box 2)</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span>
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">p:requireSchemaAuthz</span>=<span class="hljs-string">"none"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>http://fqdn/testcell1/__role/box1/doctor<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:write</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>http://fqdn/testcell1/__role/box2/guest<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<p>Omission of description by xml: base<br>
By describing the role resource URL up to the box in the xml: base attribute of the acl element, omit the description of the role resource URL set in Principal can do.<br>
(Example of giving read and write privileges to doctor attached to box 1 and giving read only to guest attached to box 2)</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span> <span class="hljs-attr">xml:base</span>=<span class="hljs-string">"http://fqdn/testcell1/__role/box1/"</span>
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">p:requireSchemaAuthz</span>=<span class="hljs-string">"none"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>doctor<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:write</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>../box2/guest<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<p>* Like guest, when setting a role attached to a box different from the xml: base box, it is possible to describe relative paths as described above.</p>
<h4><a class="anchor" aria-hidden="true" id="output-with-propfind"></a><a href="#output-with-propfind" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Output with PROPFIND</h4>
<p>When outputting the ACL setting with PROPFIND, the xml: base attribute is output as follows.</p>
<ul>
<li>In the case of PROPFIND to a cell, the URL of the main box</li>
<li>In the case of PROPFIND under Box, the URL to that Box</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="grantprivilege"></a><a href="#grantprivilege" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>grant/Privilege</h3>
<p>The authority is set with the element defined by Personium, and set by enclosing it in the Privilege element in the grant element.<br>
In addition, you can specify multiple Privilege elements in the grant element.</p>
<h4><a class="anchor" aria-hidden="true" id="cell-level-acl-privilege"></a><a href="#cell-level-acl-privilege" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cell Level ACL Privilege</h4>
<p>For the set cell, specify execution authority of the cell control object and execution authority of the method.<br>
When the authority located at the higher level is set, it has the authority belonging to the lower rank. (Eg message has the authority of message-read)</p>
<table>
<thead>
<tr><th style="text-align:left">Authority name</th><th style="text-align:left">Target cell control object</th><th style="text-align:left">Top authority name</th><th style="text-align:left">Methods that can be executed</th><th style="text-align:left">Notes</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">root</td><td style="text-align:left">It has all the authorities below</td><td style="text-align:left">-</td><td style="text-align:left">All</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">auth</td><td style="text-align:left">Account, Role, ExtRole</td><td style="text-align:left">root</td><td style="text-align:left">PUT, POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">auth-read</td><td style="text-align:left">Account, Role, ExtRole</td><td style="text-align:left">auth</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">message</td><td style="text-align:left">RecievedMessage, SentMessage</td><td style="text-align:left">root</td><td style="text-align:left">POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">message-read</td><td style="text-align:left">RecievedMessage, SentMessage</td><td style="text-align:left">message</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">event</td><td style="text-align:left">event</td><td style="text-align:left">root</td><td style="text-align:left">PUT, POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">event-read</td><td style="text-align:left">event</td><td style="text-align:left">event</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">log</td><td style="text-align:left">log</td><td style="text-align:left">root</td><td style="text-align:left">PUT, POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">log-read</td><td style="text-align:left">log</td><td style="text-align:left">log</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">social</td><td style="text-align:left">Relation, ExtCell</td><td style="text-align:left">root</td><td style="text-align:left">PUT, POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">social-read</td><td style="text-align:left">Relation, ExtCell</td><td style="text-align:left">social</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">box</td><td style="text-align:left">Box</td><td style="text-align:left">root</td><td style="text-align:left">PUT, POST, DELETE, GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">box-read</td><td style="text-align:left">Box</td><td style="text-align:left">box</td><td style="text-align:left">GET, OPTIONS</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">box-install</td><td style="text-align:left">Box</td><td style="text-align:left">box</td><td style="text-align:left">MKCOL(Barfileinstallation)</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">box-export</td><td style="text-align:left">Box</td><td style="text-align:left">root</td><td style="text-align:left">GET(Barfileexport) * Not supported</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">acl</td><td style="text-align:left">Cell</td><td style="text-align:left">root</td><td style="text-align:left">ACL</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">acl-read</td><td style="text-align:left">Cell</td><td style="text-align:left">acl</td><td style="text-align:left">Display of ACL setting of PROPFIND</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">propfind</td><td style="text-align:left">Cell</td><td style="text-align:left">root</td><td style="text-align:left">PROPFIND</td><td style="text-align:left"></td></tr>
<tr><td style="text-align:left">rule</td><td style="text-align:left">Rule</td><td style="text-align:left">root</td><td style="text-align:left">POST,DELETE,GET,OPTIONS</td><td style="text-align:left">v1.6.0 or later</td></tr>
<tr><td style="text-align:left">rule-read</td><td style="text-align:left">Rule</td><td style="text-align:left">rule</td><td style="text-align:left">GET,OPTIONS</td><td style="text-align:left">v1.6.0 or later</td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="setting-example-2"></a><a href="#setting-example-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Example</h5>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span> <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">xml:base</span>=<span class="hljs-string">"https://example.com/cell/box"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>role10<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p:root</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>../box2/role13<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p:social</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>role15<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p:acl</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="box-level-acl-privilege"></a><a href="#box-level-acl-privilege" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Box level ACL Privilege</h4>
<p>Specify the execution authority of the method for the resources below the set box.<br>
Box level Privilege is basically defined along WebDAV ACL.<br>
When the authority located at the higher level is set, it has the authority belonging to the lower rank.(Example: read also has the authority of read-properties)</p>
<table>
<thead>
<tr><th style="text-align:left">Authority name</th><th style="text-align:left">Target cell control object</th><th style="text-align:left">Top authority name</th><th style="text-align:left">Methods that can be executed</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">all</td><td style="text-align:left">It has all the authorities below.</td><td style="text-align:left">p:root</td><td style="text-align:left">All</td></tr>
<tr><td style="text-align:left">read</td><td style="text-align:left">Has read permission. It does not include read-acl.</td><td style="text-align:left">all</td><td style="text-align:left">GET,OPTIONS</td></tr>
<tr><td style="text-align:left">write</td><td style="text-align:left">Has write authority. It does not include write-acl.</td><td style="text-align:left">all</td><td style="text-align:left">PUT,POST,DELETE,MKCOL</td></tr>
<tr><td style="text-align:left">read-properties</td><td style="text-align:left">Has the right to read properties.</td><td style="text-align:left">read</td><td style="text-align:left">PROPFIND</td></tr>
<tr><td style="text-align:left">write-properties</td><td style="text-align:left">Have authority to write properties.</td><td style="text-align:left">write</td><td style="text-align:left">PROPPATCH</td></tr>
<tr><td style="text-align:left">read-acl</td><td style="text-align:left">It has read authority of ACL.</td><td style="text-align:left">all</td><td style="text-align:left">Display of ACL setting of PROPFIND</td></tr>
<tr><td style="text-align:left">write-acl</td><td style="text-align:left">Has authority to write ACL.</td><td style="text-align:left">all</td><td style="text-align:left">ACL</td></tr>
<tr><td style="text-align:left">write-content</td><td style="text-align:left">Has authority to write content. It does not include bind and unbind.</td><td style="text-align:left">write</td><td style="text-align:left">PUT (target exists)</td></tr>
<tr><td style="text-align:left">bind</td><td style="text-align:left">Has additional authority. It does not include write-content.</td><td style="text-align:left">write</td><td style="text-align:left">PUT (no target exists),MKCOL</td></tr>
<tr><td style="text-align:left">unbind</td><td style="text-align:left">Has authority to delete subordinate resources. It does not include write-content.</td><td style="text-align:left">write</td><td style="text-align:left">DELETE</td></tr>
<tr><td style="text-align:left">exec</td><td style="text-align:left">Has service execution authority. * Personium original implementation</td><td style="text-align:left">all</td><td style="text-align:left">-</td></tr>
</tbody>
</table>
<p>MOVE requires the unbind permission of the move source collection and the bind permission of the move destination collection.<br>
If the target resource exists at the move destination, in addition the unbind permission of the move destination collection is required.</p>
<h5><a class="anchor" aria-hidden="true" id="setting-example-3"></a><a href="#setting-example-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Example</h5>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span> <span class="hljs-attr">xml:base</span>=<span class="hljs-string">"http://fqdn/testcell1/__role/box1/"</span>
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">p:requireSchemaAuthz</span>=<span class="hljs-string">"none"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>doctor<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:write</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:href</span>&gt;</span>../box2/guest<span class="hljs-tag">&lt;/<span class="hljs-name">D:href</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="acl-inheritance"></a><a href="#acl-inheritance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ACL inheritance</h2>
<p>For box level ACL setting, the setting of the parent (upper directory) of the accessed resource is applied back to the cell.<br>
The ACL setting for the access subject is inherited in the form in which the parent setting is added.<br>
Therefore, the following points need to be noted when setting ACL.</p>
<ul>
<li>When strong permission of all etc. etc is set for parent, even if restriction is applied to child, it becomes invalid</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="examples-of-acl-inheritance-and-applied-privileges"></a><a href="#examples-of-acl-inheritance-and-applied-privileges" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples of ACL inheritance and applied privileges</h3>
<p>Exampleresource</p>
<table>
<thead>
<tr><th style="text-align:left">Resource type</th><th style="text-align:left">Resource name</th><th style="text-align:left">Resource URL</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Cell</td><td style="text-align:left">cell</td><td style="text-align:left"><a href="https://fqdn/cell">https://fqdn/cell</a></td></tr>
<tr><td style="text-align:left">Box</td><td style="text-align:left">box</td><td style="text-align:left"><a href="https://fqdn/cell/box">https://fqdn/cell/box</a></td></tr>
<tr><td style="text-align:left">WebDAV Collection</td><td style="text-align:left">webdav</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav">https://fqdn/cell/box/webdav</a></td></tr>
<tr><td style="text-align:left">Directory</td><td style="text-align:left">directory</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav/directory">https://fqdn/cell/box/webdav/directory</a></td></tr>
<tr><td style="text-align:left">File</td><td style="text-align:left">file</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav/directory/file">https://fqdn/cell/box/webdav/directory/file</a></td></tr>
</tbody>
</table>
<p>After applying the following ACL setting to the above resource, the authorities applied when accessing each resource are as follows.</p>
<table>
<thead>
<tr><th style="text-align:left">Resources to access</th><th style="text-align:left">Permission set</th><th style="text-align:left">Applicable authority</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Cell</td><td style="text-align:left">auth-read</td><td style="text-align:left">auth-read</td></tr>
<tr><td style="text-align:left">Box</td><td style="text-align:left">read-acl</td><td style="text-align:left">auth-read, read-acl</td></tr>
<tr><td style="text-align:left">WebDAV Collection</td><td style="text-align:left">read</td><td style="text-align:left">auth-read, read-acl, read</td></tr>
<tr><td style="text-align:left">Directory</td><td style="text-align:left">nosettings</td><td style="text-align:left">auth-read, read-acl, read</td></tr>
<tr><td style="text-align:left">File</td><td style="text-align:left">read-propaties</td><td style="text-align:left">auth-read, read-acl, read-properties, read</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="schema-authority-request-level"></a><a href="#schema-authority-request-level" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schema authority request level</h2>
<p>For access control to the application according to the schema authority request level, the request level is set by the RequireSchemaAuthz attribute of the ACL element at the time of setting the ACL.<br>
For schema authentication specifications, see &quot;Schema authentication (application authentication)&quot; in the authentication model.</p>
<h3><a class="anchor" aria-hidden="true" id="setting-value"></a><a href="#setting-value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting value</h3>
<p>Schema privilege request level value</p>
<table>
<thead>
<tr><th style="text-align:left">Level value</th><th style="text-align:left">Contents</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">none(Default)</td><td style="text-align:left">Accessible without schema authentication</td></tr>
<tr><td style="text-align:left">public</td><td style="text-align:left">Accessible if schema authentication result is OK</td></tr>
<tr><td style="text-align:left">confidential</td><td style="text-align:left">When the schema authentication result is OK and the special role confidentialClient is available</td></tr>
</tbody>
</table>
<h4><a class="anchor" aria-hidden="true" id="setting-example-4"></a><a href="#setting-example-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Example</h4>
<p>Sample Schema Privilege Request Level Setting ACL</p>
<pre><code class="hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">D:acl</span> <span class="hljs-attr">xmlns:D</span>=<span class="hljs-string">"DAV:"</span> <span class="hljs-attr">xml:base</span>=<span class="hljs-string">"http://localhost:8080/testcell1/__role/box1/"</span>
    <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"urn:x-personium:xmlns"</span>
    <span class="hljs-attr">p:requireSchemaAuthz</span>=<span class="hljs-string">"none"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">D:ace</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:all</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:principal</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">D:grant</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:read</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">D:privilege</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">D:write</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">D:privilege</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">D:grant</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">D:ace</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">D:acl</span>&gt;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="inheritance-of-schema-authority-request-level-setting"></a><a href="#inheritance-of-schema-authority-request-level-setting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inheritance of schema authority request level setting</h3>
<p>The schema authority request level setting is applied by setting the parent (upper directory) of the accessed resource back to the box only when the accessed resource is not set.<br>
If the schema authority request level is not set, it is treated as none, but it is not inherited if explicitly set to none.<br>
Inheritance is confirmed back to the Box, but when the schema level setting is performed on the intermediate resource, the setting value becomes effective.</p>
<h4><a class="anchor" aria-hidden="true" id="schema-privilege-request-level-inheritance-and-example-of-authority-to-be-applied"></a><a href="#schema-privilege-request-level-inheritance-and-example-of-authority-to-be-applied" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schema privilege Request level inheritance and example of authority to be applied</h4>
<p>The schema authority request level applied when accessing each resource after setting the following schema authority request level to the above resource is as follows.</p>
<p>Example resource</p>
<table>
<thead>
<tr><th style="text-align:left">Resource type</th><th style="text-align:left">Resource name</th><th style="text-align:left">Resource URL</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Cell</td><td style="text-align:left">cell</td><td style="text-align:left"><a href="https://fqdn/cell">https://fqdn/cell</a></td></tr>
<tr><td style="text-align:left">Box</td><td style="text-align:left">box</td><td style="text-align:left"><a href="https://fqdn/cell/box">https://fqdn/cell/box</a></td></tr>
<tr><td style="text-align:left">WebDAV Collection</td><td style="text-align:left">webdav</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav">https://fqdn/cell/box/webdav</a></td></tr>
<tr><td style="text-align:left">Directory</td><td style="text-align:left">directory</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav/directory">https://fqdn/cell/box/webdav/directory</a></td></tr>
<tr><td style="text-align:left">File</td><td style="text-align:left">file</td><td style="text-align:left"><a href="https://fqdn/cell/box/webdav/directory/file">https://fqdn/cell/box/webdav/directory/file</a></td></tr>
</tbody>
</table>
<p>After applying the following ACL setting to the above resource, the authorities applied when accessing each resource are as follows.</p>
<table>
<thead>
<tr><th style="text-align:left">Resources to access</th><th style="text-align:left">Set level</th><th style="text-align:left">Applicable level</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">Box</td><td style="text-align:left">confidential</td><td style="text-align:left">confidential</td></tr>
<tr><td style="text-align:left">WebDAV Collection</td><td style="text-align:left">public</td><td style="text-align:left">public</td></tr>
<tr><td style="text-align:left">Directory</td><td style="text-align:left">no settings</td><td style="text-align:left">public</td></tr>
<tr><td style="text-align:left">File</td><td style="text-align:left">none</td><td style="text-align:left">none</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#acl">ACL</a><ul class="toc-headings"><li><a href="#acl-component-in-personium">ACL component in Personium</a></li><li><a href="#limitations">Limitations</a></li><li><a href="#object">Object</a></li></ul></li><li><a href="#ace">ace</a><ul class="toc-headings"><li><a href="#principal">Principal</a></li><li><a href="#grantprivilege">grant/Privilege</a></li></ul></li><li><a href="#acl-inheritance">ACL inheritance</a><ul class="toc-headings"><li><a href="#examples-of-acl-inheritance-and-applied-privileges">Examples of ACL inheritance and applied privileges</a></li></ul></li><li><a href="#schema-authority-request-level">Schema authority request level</a><ul class="toc-headings"><li><a href="#setting-value">Setting value</a></li><li><a href="#inheritance-of-schema-authority-request-level-setting">Inheritance of schema authority request level setting</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/images/favicon.ico" alt="" width="66" height="58"/></a><div><h5>Documentation</h5><a href="https://personium.io/docs/en/overview/001_Introduction.html">Introduction</a><a href="https://personium.io/docs/en/server-operator/">Server Software Operator&#x27;s Guide</a><a href="https://personium.io/docs/en/app-developer/">Application Developer&#x27;s Guide</a><a href="https://personium.io/docs/en/apiref/current/000_Rest_API_Reference.html">API Reference</a></div><div><h5>Community</h5><a href="https://personium-io.slack.com/">Slack</a><a href="https://github.com/personium">GitHub</a><a href="https://twitter.com/personium" target="_blank" rel="noreferrer noopener">Twitter</a><div class="social"><a href="https://twitter.com/personium" class="twitter-follow-button">Follow @personium</a></div></div><div><h5>More</h5><a href="/blog">News</a><a href="https://drive.google.com/drive/u/1/folders/1VWGpfCbPOLY2TCa7Lh2jbcsZ5Bp0WV4q">Draft Docs</a></div></section><a href="https://personium.io/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/logo-quantify-light.png" alt="Personium Project" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Personium Project</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>