<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/ja/github.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1>サーバソフトウェア運用者向けガイド</h1>
<p>Personiumのサーバソフトウェアを使ってPersoniumユニットを構築する方や、Personiumサーバプログラムをビルド・デプロイ・設定する方、 Personiumを使用したPDSサービス環境を提供・運用したい方向けのドキュメントです。</p>
<p>構築・設定済のPersoniumユニットに対してユニットユーザトークンを使ってアクセスして、 ユニット管理者の主たる業務、すなわちCellの作成・払出しや、払出したCellの管理等を実施する方は、<a href="../unit-administrator/README.html">ユニット管理者向けガイド</a>をご覧ください。</p>
<h2>ユニット構成設計</h2>
<p>Personiumはスケーラブルなアーキテクチャを採用しています。評価用や個人利用であれば1台のマシンにすべてを詰め込んだPersoniumユニットを構築することも可能です。一方で数百人、数千人が使うユニットを構築するには、セキュリティや性能といった非機能が必要となるため、Web層-AP層-DB層といった層構成をとるのが推奨されますので、最低2-3台の構成をとるべきでしょう。さらに数万人～数十万人以上が日々使う大規模なユニット構成するためには各層をスケールアウトさせ、10台-20台といった構成をとることとなります。</p>
<p>まずは、どのような構成のユニットを作るべきかを決め、必要なインフラ設計をしましょう。</p>
<h2>ユニットの構築</h2>
<p>ユニットの構築にはAnsibleを使うのが便利です。またOpen Stack ベースのクラウド環境に構築する場合は Heat Template を使えば、ほぼ自動でユニット構築が可能です。もちろん、これら自動構築ツールを使わないで任意のクラウドや物理/仮想マシンを使ってユニット構築を行うこともできます。しかし、そのための手順等ドキュメントを私たちが準備しメンテナンスする体力がないため、以下Open StackのHeatを使ったサーバインフラ構築手順やAnsibleを使ったユニット自動構築手順を参考に構築を行ってください。</p>
<p>さまざまな環境でユニットが構築できたというお話をコミュニティの#infraチャネルで聞かせて頂けると嬉しく思います。</p>
<h3>Open Stack Heatを使ったサーバインフラの自動構築</h3>
<ul>
<li><a href="https://github.com/personium/openstack-heat/blob/master/README_ja.html">Heatを使ったサーバインフラの自動構築</a></li>
</ul>
<h3>Ansibleを使ったユニットの自動構築</h3>
<p>Ansibleを使って、評価用の1台構成のユニットや小規模な本番利用のための3台構成のユニットを構築するためのガイドを公開しています。</p>
<ul>
<li><a href="./setup_ja.html">Ansibleを使ったユニット構築ガイド</a></li>
</ul>
<p>上記で紹介しているAnsibleのPlaybookをカスタマイズすれば様々な構成のユニットを構築可能です。</p>
<h2>ユニットの設定</h2>
<p>ユニットの構成ができたら、ユニットを正しく設定する必要があります。 Ansibleで自動構築ユニットには基本的な設定はひととおりされていますが、完全ではありません。以下を参照し適切な設定を行ってください。</p>
<ul>
<li><a href="./unit_operation_design.html">Unitの運用設計と設定</a></li>
<li><a href="./unit_config_list.html">Unitの設定一覧</a></li>
<li><a href="./unit_coordination.html">Unit間連携の設定方法</a></li>
</ul>
<h2>ユニットの運用</h2>
<p>多くの場合Personiumのユニットには個人のプライバシーに関わる情報が入りますし、そもそもインターネット上にサーバを立てる上でセキュリティ対策は必須です。初期構築されたままでユニットを放置せず、適切にセキュリティパッチを適用してください。</p>
<h3>関連するリポジトリ</h3>
<ul>
<li><a href="https://github.com/personium/ansible">ansible</a></li>
<li><a href="https://github.com/personium/openstack-heat">openstack-heat</a></li>
<li><a href="https://github.com/personium/openstack-heat_cent6_8">openstack-heat_cent6_8</a></li>
</ul>
</body>
</html>
