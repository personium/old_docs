<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>277_Event_Summary</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="/en/github.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1>Event Model</h1>
<h2>Overview</h2>
<p><a href="278_Event_Reception.html">event reception API,</a>It consists of external events defined in Personium and internal events defined within Personium</p>
<p><img src="image/eventmodel.png" title="Event Model" alt="Event Model" /></p>
<h3>External Events</h3>
<p><a href="278_Event_Reception.html">event reception API,</a>Represents an event to be accepted.<br />
An event is generated by the event reception API, and processing is executed according to the contents of the accepted event<br />
In addition, the future, relay processing of events accepted by the message notification to other cells is possible.<br />
In the event reception desk, I want to output as an event log the contents of the event that occurred.</p>
<h3>Internal Event</h3>
<p>This indicates that the process to be executed based on the state management data held in the interior of the Personium (OData/WebDAV/Service, etc.).<br />
Internal events as a representative, a request of Personium API.<br />
I want to output as an event log the results in the response return when the Personium API.</p>
<h2>Event Log</h2>
<h3>Event log management settings</h3>
<p>Log configuration update API output setting for the event log can by<br />
If you want to get the information set, log setting acquisition API to use.</p>
<h3>Event log access method</h3>
<p>To be managed by WebDAV on, the event log, perform the API for WebDAV access to the event log file.</p>
<ul>
<li><a href="284_Retrieve_Log_File_list.html">Log File Retrieve List</a></li>
<li><a href="285_Retrieve_Log_File.html">Log File Acquire</a></li>
<li><a href="286_Delete_Log_File.html">Delete Log File</a></li>
</ul>
<h3>Event log retention period</h3>
<p>Since the size of the event log file is increased in response to an event amount, to rotate the event log file at a constant amount.<br />
Hold the number of generations of the event log file is rotated, the 12 largest generation.<br />
It should be noted that, as the default 50MB, maximum size of the rotating at the time, set the log update API and can be set at.</p>
<h3>Example</h3>
<h4>External event output</h4>
<pre><code>2013-04-18 14:52:39.778 [thread-pool-1-38888(20)] [ERROR] EventLogger Req_animal-access_1001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,actionData,/svc/token_keeper,resultData
2013-04-18 14:52:40.688 [thread-pool-1-38888(17)] [INFO ] EventLogger Req_animal-access_2001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,action,/svc/token_keeper,result
2013-04-18 15:01:46.994 [thread-pool-1-38888(25)] [INFO ] EventLogger Req_animal-access_2001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,action,/svc/token_keeper,result
2013-04-18 15:06:19.294 [thread-pool-1-38888(15)] [ERROR] EventLogger Req_animal-access_1001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,actionData,/svc/token_keeper,resultData
2013-04-18 15:06:23.360 [thread-pool-1-38888(17)] [INFO ] EventLogger Req_animal-access_2001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,action,/svc/token_keeper,result
2013-04-18 15:09:18.073 [thread-pool-1-38888(10)] [ERROR] EventLogger Req_animal-access_1001,client,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/servicemanager/#admin,actionData,/svc/token_keeper,resultData</code></pre>
<h4>Internal event output</h4>
<pre><code>2013-04-18 14:52:39.778 [thread-pool-1-38888(20)] [ERROR] EventLogger Req_animal-access_1001,server,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/appCell/#staff,POST,/homeClinic/__token,200
2013-04-18 14:52:39.778 [thread-pool-1-38888(20)] [ERROR] EventLogger Req_animal-access_1001,server,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/appCell/#staff,PROPFIND,/homeClinic/box/col/put_blog,207
2013-04-18 14:52:39.779 [thread-pool-1-38888(20)] [ERROR] EventLogger Req_animal-access_1001,server,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/appCell/#staff,PUT,/homeClinic/box/col/put_blog,204
2013-04-18 14:52:39.780 [thread-pool-1-38888(20)] [ERROR] EventLogger Req_animal-access_1001,server,
https://{UnitFQDN}/appCell/,https://{UnitFQDN}/appCell/#staff,GET,/homeClinic/box/col/blog_20130418,200</code></pre>
</body>
</html>
