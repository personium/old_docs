<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Launch application from Home application · </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="There are various forms of Personium applications, but here we will explain about the applications launched from the most standard Home application.  "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Launch application from Home application · "/><meta property="og:type" content="website"/><meta property="og:url" content="https://personium.github.io/"/><meta property="og:description" content="There are various forms of Personium applications, but here we will explain about the applications launched from the most standard Home application.  "/><meta property="og:image" content="https://personium.github.io/images/header-icon.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://personium.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://personium.github.io/blog/atom.xml" title=" Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://personium.github.io/blog/feed.xml" title=" Blog RSS Feed"/><link rel="stylesheet" href="/docusaurus_css/custom.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-quantify-light.png" alt=""/><h2 class="headerTitleWithLogo"></h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://personium.io/docs/en/overview/001_Introduction.html" target="_self">Introduction</a></li><li class=""><a href="https://personium.io/docs/en" target="_self">User Guide</a></li><li class=""><a href="https://personium.io/docs/en/apiref/current/000_Rest_API_Reference.html" target="_self">API Reference</a></li><li class=""><a href="/blog/" target="_self">News</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Launch application from Home application</h1></header><article><div><span><p>There are various forms of Personium applications, but here we will explain about the applications launched from the most standard Home application.</p>
<ul>
<li>Parameters passed at application startup</li>
<li>Processing to be done after launching the application</li>
</ul>
<p>Caution: Personium core version 1.6.9 or above required</p>
<h2><a class="anchor" aria-hidden="true" id="parameters-passed-at-application-startup"></a><a href="#parameters-passed-at-application-startup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters passed at application startup</h2>
<p>The application launcher of the home application executes the application by calling the following URL.</p>
<pre><code class="hljs">{AppUrl}#cell={cellUrl}
</code></pre>
<p>Example</p>
<pre><code class="hljs">myapp-custom-scheme://#cell=https://demo.personium.io/john.doe/
https://some.svr.example/my-app/index.html#cell=https://pds.personium.example/john.doe/
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="steps-after-launching-the-application"></a><a href="#steps-after-launching-the-application" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Steps after launching the application</h2>
<p>The actual process of application development depends on the implementation method of the application (Android application, HTML5 application, iOS application, etc.) and the implementation language, but the flow to be done after the application is started is the same.</p>
<ol>
<li>Receive Cell URL from startup URL</li>
<li>App authentication is performed according to the procedure of OAuth2 code flow</li>
<li>Receive access token</li>
<li>Get the URL of Box</li>
<li>Access various resources under the Box</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="receive-necessary-parameters-from-startup-url"></a><a href="#receive-necessary-parameters-from-startup-url" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Receive necessary parameters from startup URL</h3>
<p>The Personium App launched from the Home App launcher will be launched with some launch URL. The startup URL may start with https or it may start with some custom scheme. Generally, an application launched with a custom scheme URL can acquire the URL which was launched by itself. If it is a URL starting with https, the browser will start up, but even browser application can get the URL it was launched. First of all, please obtain the start URL in each implementation.</p>
<p>Parsing # from the startup URL that could be acquired next and acquire the cell, refresh_token parameter.</p>
<table>
<thead>
<tr><th style="text-align:left">Item</th><th style="text-align:left">Overview</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left">cell</td><td style="text-align:left">User Cell URL to be targeted</td></tr>
</tbody>
</table>
<p>These parameters are needed in the subsequent process.</p>
<h3><a class="anchor" aria-hidden="true" id="app-authentication-is-performed-according-to-the-procedure-of-oauth2-code-flow"></a><a href="#app-authentication-is-performed-according-to-the-procedure-of-oauth2-code-flow" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>App authentication is performed according to the procedure of OAuth2 code flow</h3>
<p><code>This chapter is in the middle of writing. Please wait for a moment.</code></p>
<p>In order to prove the validity of your application to the user Cell, we obtain an application authentication token. This is security for protecting your application and user Cell from attacks from malicious applications such as phishing apps.</p>
<p>You can obtain the application authentication token by sending the ID / password of the application to the Token endpoint of the application Cell. Specifically, I will POST the following information.</p>
<pre><code class="hljs">grant_type=password&amp;p_target={User Cell URL}&amp;username={Application ID}&amp;password={Application Password}
</code></pre>
<p>Only your application knows the application ID and application password. To set these as an endpoint of the application Cell from your application, you can obfuscate and embed it in the code, and you may ask the server to issue the above request from some server. It is a good idea to put Engine script on the application Cell and realize this. In the case of obfuscating and embedding, it is impossible to completely prevent leakage of application ID and application password due to reverse engineering by an attacker, although there is a certain deterrent by obfuscation.</p>
<p>In any case, the &quot;authentication_token&quot; item of the authentication success response JSON for this request is &quot;application authentication token&quot;. Please parse JSON and get it.</p>
<p>Reference: <a href="http://personium.io/docs/en/apiref/current/293_OAuth2_Token_Endpoint.html">http://personium.io/docs/en/apiref/current/293_OAuth2_Token_Endpoint.html</a></p>
<h3><a class="anchor" aria-hidden="true" id="receive-access-token"></a><a href="#receive-access-token" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Receive access token</h3>
<p>You will receive an access token as your App for the User Cell.</p>
<ol>
<li>Application authentication token</li>
<li>Refresh token</li>
</ol>
<p>This time POST the following information to Token end point of user Cell.</p>
<pre><code class="hljs">grant_type=refresh&amp;refresh_token={refreshToken}&amp;client_id={Applecation CellURL}&amp;client_secret={Application authentication token}
</code></pre>
<p>The &quot;access_token&quot; item in the response JSON returned here is the access token for your application to the target user Cell.</p>
<h3><a class="anchor" aria-hidden="true" id="get-the-url-of-box"></a><a href="#get-the-url-of-box" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get the URL of Box</h3>
<p>Use the following API to get the URL of Box which is the area for your application on target user Cell.</p>
<p>Reference: <a href="http://personium.io/docs/en/apiref/current/304_Get_Box_URL.html">http://personium.io/docs/en/apiref/current/304_Get_Box_URL.html</a></p>
<p>At this time, please specify the access token acquired in the Authorization header.</p>
<pre><code class="hljs">Authorization: Bearer {access_token}
</code></pre>
<p>In this way, you can see which URL is the root to access the data.</p>
<h3><a class="anchor" aria-hidden="true" id="access-various-resources-under-the-box"></a><a href="#access-various-resources-under-the-box" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Access various resources under the Box</h3>
<p>You, as an application developer, should know about the structure under Box for your app on target user Cell. Use the Box level API (WebDAV, OData) for data access to access various resources under Box.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#parameters-passed-at-application-startup">Parameters passed at application startup</a></li><li><a href="#steps-after-launching-the-application">Steps after launching the application</a><ul class="toc-headings"><li><a href="#receive-necessary-parameters-from-startup-url">Receive necessary parameters from startup URL</a></li><li><a href="#app-authentication-is-performed-according-to-the-procedure-of-oauth2-code-flow">App authentication is performed according to the procedure of OAuth2 code flow</a></li><li><a href="#receive-access-token">Receive access token</a></li><li><a href="#get-the-url-of-box">Get the URL of Box</a></li><li><a href="#access-various-resources-under-the-box">Access various resources under the Box</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/images/favicon.ico" alt="" width="66" height="58"/></a><div><h5>Documentation</h5><a href="https://personium.io/docs/en/overview/001_Introduction.html">Introduction</a><a href="https://personium.io/docs/en/server-operator/">Server Software Operator&#x27;s Guide</a><a href="https://personium.io/docs/en/app-developer/">Application Developer&#x27;s Guide</a><a href="https://personium.io/docs/en/apiref/current/000_Rest_API_Reference.html">API Reference</a></div><div><h5>Community</h5><a href="https://personium-io.slack.com/">Slack</a><a href="https://github.com/personium">GitHub</a><a href="https://twitter.com/personium" target="_blank" rel="noreferrer noopener">Twitter</a><div class="social"><a href="https://twitter.com/personium" class="twitter-follow-button">Follow @personium</a></div></div><div><h5>More</h5><a href="/blog">News</a><a href="https://drive.google.com/drive/u/1/folders/1VWGpfCbPOLY2TCa7Lh2jbcsZ5Bp0WV4q">Draft Docs</a></div></section><a href="https://personium.io/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/logo-quantify-light.png" alt="Personium Project" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Personium Project</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>