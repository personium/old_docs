<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Operation design and setting of Unit · </title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="When Personium Unit is introduced, it is necessary to do the operation design and to set it according to it."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Operation design and setting of Unit · "/><meta property="og:type" content="website"/><meta property="og:url" content="https://personium.github.io/"/><meta property="og:description" content="When Personium Unit is introduced, it is necessary to do the operation design and to set it according to it."/><meta property="og:image" content="https://personium.github.io/images/header-icon.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://personium.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://personium.github.io/blog/atom.xml" title=" Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://personium.github.io/blog/feed.xml" title=" Blog RSS Feed"/><link rel="stylesheet" href="/docusaurus_css/custom.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-quantify-light.png" alt=""/><h2 class="headerTitleWithLogo"></h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://personium.io/docs/en/overview/001_Introduction.html" target="_self">Introduction</a></li><li class=""><a href="https://personium.io/docs/en" target="_self">User Guide</a></li><li class=""><a href="https://personium.io/docs/en/apiref/current/000_Rest_API_Reference.html" target="_self">API Reference</a></li><li class=""><a href="/blog/" target="_self">News</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Operation design and setting of Unit</h1></header><article><div><span><p>When Personium Unit is introduced, it is necessary to do the operation design and to set it according to it.</p>
<h2><a class="anchor" aria-hidden="true" id="personium-and-pki"></a><a href="#personium-and-pki" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Personium and PKI</h2>
<p>The unit of Personium is the decentralized BaaS/PDS server such as web and OpenID.
By defining mutual links, you can link Personium servers grouped in different environments. Then you can share and utilize data across the infrastructure environment.</p>
<p>Personium uses the frame of PKI to establish the mutual trusts of each other between Personium servers that exist in a separate environment. Concretely, the Trans-Cell AccessToken used by Personium is the Assertion format of SAML 2.0.In addition, x.509 is used for the electronic signature used in the Assertion.</p>
<p>To do the e-signature for the SAML issue, the unit should have the private key and the certificate of peculiar X.509. Moreover, it is necessary to set the material  used when the received certificate is verified to the unit.</p>
<h2><a class="anchor" aria-hidden="true" id="unit-private-key-preparation-of-certificate-and-setting"></a><a href="#unit-private-key-preparation-of-certificate-and-setting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unit private key, preparation of certificate, and setting</h2>
<p>We will create X509 private key and certificate. It is necessary to sign the certificate from appropriate route providers of digital certification services. Moreover, it is necessary to set the certificate of the route providers of digital certification services that accept as Unit. (Written schedule)</p>
<h2><a class="anchor" aria-hidden="true" id="unit-user-management-design"></a><a href="#unit-user-management-design" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unit User management design</h2>
<p>First, the unit administrator decides whether to create UnitUser depending on whether you want to use the unit only by yourself or multiple people.</p>
<p>When you don't use Unit User, you use Unit Master Token  and operate the Unit level. When you use Unit User, you have to decide how do you procure the Unit User administrative mechanism. WWhen you use the management mechanism that exists on the outside, you have to generates the token of the SAML. Both the private key and the certificate set to the unit are necessary to make the token of the SAML form. The character string that can be used for the Unit User name is a character string of UTF-8. This is because the Unit owner already has the possibility to connect with the user ID.</p>
<p>An outside user management mechanism does not exist and when it is not necessary to newly establish it, Cell can be used as Unit User administrative mechanism. When specific Cell is used as Unit User administrative mechanism, the UnitUser name becomes Personium subject URL ({Cell URL} #{ account name }).</p>
<h2><a class="anchor" aria-hidden="true" id="data-bundle-design"></a><a href="#data-bundle-design" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Bundle design</h2>
<p>Data Bundle is a unit of the backup restoring of the data stored in the Personium unit. Information preserved in ES and the filesystem that Personium adopts is separated by this DataBundle name and preserved.
The Unit manager should design by what kind of unit to cut Data Bundle according to the backup operation of data and the foreseen migration plan, etc.In many cases, there is no problem if the Unit user-name is used as DataBundle name. If you define theData Bundle name decision function, you can preserve all unit user's data as one Data Bundle or you can divide Data Bundle according to each unit user's affiliation or the prefix of the unit user-name. There is the following limitations in the character that can be used as DataBundle name. Therefore, when you make the DataBundle name decision function, you need to note these. In default, the DataBundle name decision function is the following logics.</p>
<ol>
<li>Only the following character string is used from it when there is # sign.</li>
<li>It escapes about the character that cannot be used as DataBundle name.</li>
</ol>
<p>When a specific Cell is used as a Unit User management mechanism, the UnitUser name is Personium Subject URL {Cell URL} # {Account Name}. However, if you use the default Data Bundle name determination function, the DataBundle name will be the account name of the Unit User Management Cell.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#personium-and-pki">Personium and PKI</a></li><li><a href="#unit-private-key-preparation-of-certificate-and-setting">Unit private key, preparation of certificate, and setting</a></li><li><a href="#unit-user-management-design">Unit User management design</a></li><li><a href="#data-bundle-design">Data Bundle design</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/images/favicon.ico" alt="" width="66" height="58"/></a><div><h5>Documentation</h5><a href="https://personium.io/docs/en/overview/001_Introduction.html">Introduction</a><a href="https://personium.io/docs/en/server-operator/">Server Software Operator&#x27;s Guide</a><a href="https://personium.io/docs/en/app-developer/">Application Developer&#x27;s Guide</a><a href="https://personium.io/docs/en/apiref/current/000_Rest_API_Reference.html">API Reference</a></div><div><h5>Community</h5><a href="https://personium-io.slack.com/">Slack</a><a href="https://github.com/personium">GitHub</a><a href="https://twitter.com/personium" target="_blank" rel="noreferrer noopener">Twitter</a><div class="social"><a href="https://twitter.com/personium" class="twitter-follow-button">Follow @personium</a></div></div><div><h5>More</h5><a href="/blog">News</a><a href="https://drive.google.com/drive/u/1/folders/1VWGpfCbPOLY2TCa7Lh2jbcsZ5Bp0WV4q">Draft Docs</a></div></section><a href="https://personium.io/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/logo-quantify-light.png" alt="Personium Project" width="170" height="45"/></a><section class="copyright">Copyright © 2019 Personium Project</section></footer></div><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script></body></html>